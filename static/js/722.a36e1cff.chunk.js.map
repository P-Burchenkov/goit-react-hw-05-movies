{"version":3,"file":"static/js/722.a36e1cff.chunk.js","mappings":"kLACA,EAA4B,8BAA5B,EAAiE,yB,SCElD,SAASA,EAAT,GAA2C,IAArBC,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,SAC3C,OACE,eAAIC,UAAWC,EAAf,SACGH,EAAOI,KAAI,YAAmC,IAAhCC,EAA+B,EAA/BA,eAAgBC,EAAe,EAAfA,GAAIC,EAAW,EAAXA,KACjC,OACE,yBACE,SAAC,KAAD,CACEC,GAAE,kBAAaF,GACfG,MAAO,CAAEC,KAAMT,GACfC,UAAWC,EAHb,SAKGE,GAAkBE,KANdD,EAUZ,KAGN,C,kGCpBD,EAA6B,+BAA7B,EAAiF,uCAAjF,EAAsN,sC,kBCEvM,SAASK,EAAT,GAAmC,IAAbC,EAAY,EAAZA,SACnC,OACE,kBAAMA,SAAUA,EAAUV,UAAWC,EAArC,WACE,kBAAOU,KAAK,OAAON,KAAK,cAAcL,UAAWC,KACjD,mBAAQU,KAAK,SAASX,UAAWC,EAAjC,UACE,2BACE,SAAC,MAAD,CAAWW,MAAM,KAAKC,OAAO,aAKtC,C,yDCNc,SAASC,IAAU,IAAD,EAC/B,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA4BC,EAAAA,EAAAA,UAAS,MAArC,eAAOpB,EAAP,KAAeqB,EAAf,KACA,GAAkCD,EAAAA,EAAAA,WAAS,GAA3C,eAAOE,EAAP,KAAkBC,EAAlB,KACMtB,GAAWuB,EAAAA,EAAAA,MACXC,EAAW,UAAGP,EAAaQ,IAAI,gBAApB,QAAgC,GAqCjD,OAxBAC,EAAAA,EAAAA,YAAU,WACR,GAAKF,EAAL,CAKAF,GAAa,GAEb,KACEK,EAAAA,EAAAA,IAAWH,GAAaI,MAAK,YAAe,IAAZC,EAAW,EAAXA,KAC9B,GAA4B,IAAxBA,EAAKC,QAAQC,OAGf,OAFAC,EAAAA,GAAAA,KAAA,uCAA2CR,SAC3CF,GAAa,GAGfF,GAAU,OAAIS,EAAKC,UACnBR,GAAa,EACd,GAIF,CAHC,MAAOW,GACPD,EAAAA,GAAAA,MAAYC,EAAMC,SAClBZ,GAAa,EACd,CAjBA,MAFCF,EAAU,KAoBb,GAAE,CAACI,KAGF,iCACE,SAACd,EAAD,CAAYC,SArCC,SAAAwB,GACfA,EAAIC,iBACJ,IAAMC,EAAaF,EAAIG,OAAOC,SAASf,YAAYgB,MACnD,IAAKH,EACH,OAAOL,EAAAA,GAAAA,KAAW,2BAGpBd,EAD6B,KAAfmB,EAAoB,CAAEI,MAAOJ,GAAe,CAAC,GAE3DF,EAAIG,OAAOC,SAASf,YAAYgB,MAAQ,EACzC,IA8BIzC,IAAU,SAACD,EAAA,EAAD,CAAYC,OAAQA,EAAQC,SAAUA,IAChDqB,IACC,SAAC,KAAD,CACEP,OAAO,KACPD,MAAM,KACN6B,OAAO,IACPC,MAAM,UACNC,UAAU,qBACVC,aAAc,CAAC,EACfC,iBAAiB,GACjBC,SAAS,MAKlB,C,mKCnEKC,EAAM,mCACZC,EAAAA,EAAAA,SAAAA,QAAyB,gCAEzB,IAAMC,EAAmB,WACvB,OAAOD,EAAAA,EAAAA,IAAA,oCAAuCD,GAC/C,EAEKrB,EAAa,SAAAc,GACjB,OAAOQ,EAAAA,EAAAA,IAAA,6BACiBR,EADjB,8DAC4EO,GAEpF,EAEKG,EAAiB,SAAA9C,GACrB,OAAO4C,EAAAA,EAAAA,IAAA,gBAAmB5C,EAAnB,mCAAgD2C,GACxD,EAMKI,EAAmB,SAAA/C,GACvB,OAAO4C,EAAAA,EAAAA,IAAA,gBAAmB5C,EAAnB,kDAA+D2C,GACvE,EAEKK,EAAY,SAAAhD,GAChB,OAAO4C,EAAAA,EAAAA,IAAA,gBAAmB5C,EAAnB,2CAAwD2C,GAChE,C","sources":["webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","webpack://react-homework-template/./src/components/SearchForm/SearchForm.module.css?d6f1","components/SearchForm/SearchForm.jsx","pages/Movies.jsx","services/API.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieList\":\"MoviesList_movieList__8BnEE\",\"link\":\"MoviesList_link__8rTGX\"};","import { Link } from 'react-router-dom';\nimport css from './MoviesList.module.css';\n\nexport default function MoviesList({ movies, location }) {\n  return (\n    <ul className={css.movieList}>\n      {movies.map(({ original_title, id, name }) => {\n        return (\n          <li key={id}>\n            <Link\n              to={`/movies/${id}`}\n              state={{ from: location }}\n              className={css.link}\n            >\n              {original_title || name}\n            </Link>\n          </li>\n        );\n      })}\n    </ul>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"searchForm\":\"SearchForm_searchForm__NsJpF\",\"searchForm__button\":\"SearchForm_searchForm__button__FVz8K\",\"searchForm__button__label\":\"SearchForm_searchForm__button__label__4A6KQ\",\"searchForm__input\":\"SearchForm_searchForm__input__i6El6\"};","import css from './SearchForm.module.css';\nimport { FaSistrix } from 'react-icons/fa';\n\nexport default function SearchForm({ onSubmit }) {\n  return (\n    <form onSubmit={onSubmit} className={css.searchForm}>\n      <input type=\"text\" name=\"queryString\" className={css.searchForm__input} />\n      <button type=\"submit\" className={css.searchForm__button}>\n        <span>\n          <FaSistrix width=\"48\" height=\"48\" />\n        </span>\n      </button>\n    </form>\n  );\n}\n","import MoviesList from 'components/MoviesList/MoviesList';\nimport SearchForm from 'components/SearchForm/SearchForm';\nimport { useState, useEffect } from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport { fetchMovie } from 'services/API';\nimport { toast } from 'react-toastify';\nimport { ThreeDots } from 'react-loader-spinner';\n\nexport default function Movies() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [movies, setMovies] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const location = useLocation();\n  const queryString = searchParams.get('query') ?? '';\n\n  const onSubmit = evt => {\n    evt.preventDefault();\n    const nextParams = evt.target.elements.queryString.value;\n    if (!nextParams) {\n      return toast.warn('Plase, enter film name!');\n    }\n    const query = nextParams !== '' ? { query: nextParams } : {};\n    setSearchParams(query);\n    evt.target.elements.queryString.value = '';\n  };\n\n  useEffect(() => {\n    if (!queryString) {\n      setMovies(null);\n      return;\n    }\n\n    setIsLoading(true);\n\n    try {\n      fetchMovie(queryString).then(({ data }) => {\n        if (data.results.length === 0) {\n          toast.warn(`There is no films with name  ${queryString}`);\n          setIsLoading(false);\n          return;\n        }\n        setMovies([...data.results]);\n        setIsLoading(false);\n      });\n    } catch (error) {\n      toast.error(error.message);\n      setIsLoading(false);\n    }\n  }, [queryString]);\n\n  return (\n    <>\n      <SearchForm onSubmit={onSubmit} />\n\n      {movies && <MoviesList movies={movies} location={location} />}\n      {isLoading && (\n        <ThreeDots\n          height=\"80\"\n          width=\"80\"\n          radius=\"9\"\n          color=\"#4fa94d\"\n          ariaLabel=\"three-dots-loading\"\n          wrapperStyle={{}}\n          wrapperClassName=\"\"\n          visible={true}\n        />\n      )}\n    </>\n  );\n}\n","import axios from 'axios';\n\nconst KEY = '1676e9bd6d1e52f74048e3da15b70e63';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nconst fetchTrandMovies = () => {\n  return axios.get(`/trending/all/day?api_key=${KEY}`);\n};\n\nconst fetchMovie = query => {\n  return axios.get(\n    `search/movie?query=${query}&include_adult=false&language=en-US&page=1&api_key=${KEY}`\n  );\n};\n\nconst fetchMovieByID = id => {\n  return axios.get(`movie/${id}?language=en-US&api_key=${KEY}`);\n};\n\nconst fetchMovieCredits = id => {\n  return axios.get(`/movie/${id}/credits?language=en-US&api_key=${KEY}`);\n};\n\nconst fetchMovieRewies = id => {\n  return axios.get(`movie/${id}/reviews?language=en-US&page=1&api_key=${KEY}`);\n};\n\nconst fetchCast = id => {\n  return axios.get(`movie/${id}/credits?language=en-US&api_key=${KEY}`);\n};\n\nexport {\n  fetchTrandMovies,\n  fetchMovie,\n  fetchMovieByID,\n  fetchMovieCredits,\n  fetchMovieRewies,\n  fetchCast,\n};\n"],"names":["MoviesList","movies","location","className","css","map","original_title","id","name","to","state","from","SearchForm","onSubmit","type","width","height","Movies","useSearchParams","searchParams","setSearchParams","useState","setMovies","isLoading","setIsLoading","useLocation","queryString","get","useEffect","fetchMovie","then","data","results","length","toast","error","message","evt","preventDefault","nextParams","target","elements","value","query","radius","color","ariaLabel","wrapperStyle","wrapperClassName","visible","KEY","axios","fetchTrandMovies","fetchMovieByID","fetchMovieRewies","fetchCast"],"sourceRoot":""}